!function(e){var t={};function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)__webpack_require__.d(r,n,function(t){return e[t]}.bind(null,n));return r},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(e,t,r){r(1),r(2),r(3),r(4);function getSavedState(e){try{const t=JSON.parse(localStorage.getItem(e))||{};return null!=t.submittedOn&&(t.submittedOn=new Date(t.submittedOn)),t}catch(t){return localStorage.removeItem(e),{}}}function setSavedState(e,t){localStorage.setItem(e,JSON.stringify(t))}function setFormState(e,t){const{submitted:r,submittedOn:n,value:o}=t;for(const t of e.querySelectorAll("input,textarea")){const e=t.getAttribute("name");t.value=o[e]||""}if(r){const t=e.querySelector('button[type="submit"]');e.querySelector(".status-message").textContent=`Message sent on ${n.toLocaleDateString("en-us")} at ${n.toLocaleTimeString("en-us")}.`,t.textContent="Message Sent!",t.classList.add("success"),e.querySelector("fieldset").setAttribute("disabled","")}}function onSubmit(e){const t=e.srcElement;return(async()=>{const{value:e}=function getFormState(e){const t=new FormData(e),r={};for(const[e,n]of t.entries())r[e]=n;return{value:r}}(t),r=t.getAttribute("data-localstorage-key"),n=new Date;setSavedState({value:e}),function setFormLoading(e){e.querySelector('button[type="submit"]').textContent="Sending...",e.querySelector("fieldset").setAttribute("disabled","")}(t);await async function sendMessage(e){const t={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)},r=await fetch("https://wy2rngkmq2.execute-api.us-east-1.amazonaws.com/dev/static-site-mailer",t);if(r.status>=400||r.status<200)throw new Error(`request failed with code ${r.status}`);return r.json()}(e);try{setSavedState(r,{submitted:!0,submittedOn:n,value:e}),function setFormSuccess(e){const t=e.querySelector('button[type="submit"]');t.textContent="Message Sent!",t.classList.add("success")}(t)}catch(e){!function setFormErrored(e){const t=e.querySelector('button[type="submit"]');t.textContent="Send",t.classList.remove("success"),e.querySelector("fieldset").removeAttribute("disabled"),e.querySelector(".status-message").textContent="Message failed to send. Please try again or send us an email."}(t)}})(),e.preventDefault(),e.stopPropagation(),!1}document.addEventListener("DOMContentLoaded",()=>{for(const e of document.querySelectorAll("form")){const t=e.getAttribute("data-localstorage-key");if(null!=t){try{setFormState(e,getSavedState(t))}catch(e){console.log(e),localStorage.removeItem(t)}e.oninput=(e=>t=>{const r=t.target,n=getSavedState(e),o=n.value||{};o[r.getAttribute("name")]=r.value,setSavedState(e,Object.assign(n,{value:o}))})(t),e.onsubmit=onSubmit}}})},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){}]);